<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Charset -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- Título -->
    <title>English vocabulary</title>

    <!-- Ícono -->
    <link rel="icon" href="https://www.le-vpn.com/es/wp-content/uploads/2017/10/United_Kingdom.png"
        type="image/icon type">

    <!-- Bootstrap 4 -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/40f99f8165.js" crossorigin="anonymous"></script>

    <!-- App CSS -->
    <link rel="stylesheet" href="css/app.css">

    <!-- Alertify CSS -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.12.0/build/css/alertify.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.12.0/build/css/themes/default.min.css">
</head>

<body onload="getRandomWord()">

    <!-- Session storage validation - No load page -->
    <script>
        const session = sessionStorage.getItem('keySession')

        if (session === null) {
            stop()
            location = '/index.html'
        }
    </script>

    <!-- Navigation -->
    <div class="container">
        <nav class="navbar navbar-expand-sm navbar-light">
            <a class="navbar-brand" href="/home.html">
                <img src="img/uk.png" width="30"> Anglo-español
            </a>
            <button class="navbar-toggler collapsed" type="button" data-toggle="collapse"
                data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="navbar-collapse collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link">
                            <i class="fas fa-user"></i>
                            <span id="sessionUsername"></span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i>
                            Logout
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>

    <!-- Body container -->
    <div class="container mt-5">
        <h1>English vocabulary</h1>

        <!-- Card -->
        <div class="card text-center mt-5 shadow rounded mx-auto" id="card">
            <div class="card-header">English to Spanish</div>
            <div class="card-body">
                <div id="cardBody">
                    <h5 class="card-title" id="wordToRespond">
                        <div class="fa-1x">
                            <i class="fas fa-spinner fa-pulse"></i>
                        </div>
                    </h5>
                    <input type="text" class="form-control text-center mx-auto" id="txtResponse"
                        placeholder="Ingresa tu respuesta" onkeyup="enterKey(event)">

                    <button class="btn btn-danger mt-3" onclick="checkResponse(true)" id="btnIDontKnow">No sé</button>
                    &nbsp;&nbsp;
                    <button class="btn btn-primary mt-3" onclick="checkResponse(false)"
                        id="btnSubmitResponse">Enviar</button>
                </div>

                <div id="loading" style="display: none;">
                    <h6 class="card-title">Cargando...</h6>
                    <div class="fa-2x">
                        <i class="fas fa-spinner fa-pulse"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Result -->
        <div id="result" style="display: none;">
            <h3 class="mt-5 text-center">Tu puntaje obtenido es <span id="score"></span>/10</h3>
            <h5 class="mt-5">Los errores que cometiste:</h5>

            <table class="table table-responsive" id="table">
                <thead class="thead-light">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Palabra en inglés</th>
                        <th scope="col">Tu respuesta</th>
                        <th scope="col">Respuesta correcta</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <!-- Progress bar -->
        <div class="progress mt-5 mx-auto" id="progress">
            <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75"
                aria-valuemin="0" aria-valuemax="100" id="progressBar"></div>
        </div>

        <!-- Congrats -->
        <div id="congrats" style="display: none;">
            <img src="https://media0.giphy.com/media/ehhuGD0nByYxO/source.gif" class="mx-auto d-block" width="50%">
        </div>

        <br>
        <!-- Repeat test -->
        <div id="repeatTest" class="text-center" style="display: none;">
            <h4>¿Quieres volver a realizar el test?</h4>
            <button class="btn btn-primary mt-3 mb-3 mx-auto" id="btnRepeatTest" onclick="repeatTest()">
                <div class="fa-1x">
                    <i class="fas fa-redo fa-spin"></i>
                </div>
            </button>
        </div>
    </div>

    <!-- App & Alertify JS -->
    <script src="js/app.js"></script>
    <script src="//cdn.jsdelivr.net/npm/alertifyjs@1.12.0/build/alertify.min.js"></script>

    <!-- Session storage validation - Assign session -->
    <script>
        if (session.length > 0) {
            document.getElementById('sessionUsername').innerText = session
        }
    </script>

    <!-- JQuery, Popper & Bootstrap 4 -->
    <!-- Only for the responsive navigation bar -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

</body>

</html>